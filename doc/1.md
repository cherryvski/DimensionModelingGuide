开始维度建模之前，应该对业务需求进行调研，以作为维度建模的输入。应该注意，业务需求不是一成不变的，而是动态的。业务调研的主要方式有两种：

- 与业务部门进行访谈，了解业务目标、分析主题需求等。
- 与业务系统IT属主或DBA进行访谈，了解源系统的数据，分析其对业务需求的支撑能力。

## 准备工作

- 查找相关资料，了解其他企业的数据仓库是什么样的。了解他人的做法，有利于对比你所在企业的现状，进而分析出项目的目标及实施的路径。
- 了解当前指标加工的链路。假设你所在的企业已有数据开发团队在为业务部门的数据报表进行数据的加工，那么通过分析当前指标加工的ETL代码，分析其加工链路，是否存在明显不合理的地方，这样做有利于发现当前指标加工链路存在的问题，进而推导出数据仓库项目所要解决的问题。

## 访谈工作

- 了解业务。与业务部门进行访谈时，应该从宏观角度对其业务进行询问，了解企业的业务是什么样的，从而确定企业的业务过程有哪些，它们之间的关系是怎样的（注意，业务过程应该是不可拆分的企业活动）。以保险行业为例，与业务部门访谈后，应该得到保险的核心业务流程：承保、核保、理赔、续期、客服。
- 了解分析需求。与业务部门沟通时，应该询问其平时的报表中会关注哪些指标，这些指标属于哪些业务过程，这些指标期望的更新频率等；同时，还应了解报表中期望从哪些角度去分析这些指标。例如，与销售部门进行访谈时，应该了解他们平时报表中会关注如商品销售件数、商品销售总额等指标，同时希望从地区、渠道、产品类型等角度去分析、洞察这些指标。
- 了解业务系统数据。在了解完业务侧的内容后，应该针对业务部门对指标的需求，以及企业的业务过程，对相关业务系统的开发或DBA进行访谈。此时应该关注的是，某个业务过程对应的数据库表的结构是怎么样的、这些表的数据的更新、插入逻辑是怎么样的、这些表与哪些表之间有主外键关联、这些表同步到数仓ODS层时的同步频率是什么等。

## 访谈后总结工作

​	需梳理、总结的包括但不限于如下内容：

- 企业当前的业务过程视图，以及各业务过程对应的指标。例如：

  | 业务 | 业务关注指标           | 业务分析角度                 |
  | ---- | ---------------------- | ---------------------------- |
  | 承保 | 成交保单件数、保费总额 | 地区、出单渠道               |
  | 客服 | 投诉率                 | 客户性别、客户年龄、渠道类型 |

- 相关源系统数据表的结构等信息。例如：

  | 系统名   | 表名 | 表的作用           | 更新频率 | 数据插入及更新的触发逻辑             | ODS同步频率 |
  | -------- | ---- | ------------------ | -------- | ------------------------------------ | ----------- |
  | 销售系统 | sale | 记录商品的销售记录 | 即时     | 每有一单保单完成交易，就插入一行数据 | 天          |

  

